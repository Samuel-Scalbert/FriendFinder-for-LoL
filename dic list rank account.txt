## récupère puis stocke le PUUID du summoner

def ranking_information (summoner_list_name:list):
    global list_summoner_rank
    list_summoner_rank = []
    dic_summoner_rank = {}

    for summoner in summoner_list_name:
        data_summoner = requests.get('https://euw1.api.riotgames.com/lol/summoner/v4/summoners/by-name/'+ summoner +'?api_key='+api_key).json()
        if data_summoner is not None and "id" in data_summoner:
            id_summoner = data_summoner.get("id")
            puuid_summoner = data_summoner.get("puuid")
            #print(puuid_summoner,id_summoner)
  
            ## récupère les matchs (les derniers) du summoner (ici 5 matchs)
            ## ressource utile les ID des queues : https://static.developer.riotgames.com/docs/lol/queues.json
            ## récupère la division, le tier et les LP du compte
            
            data_rank = requests.get('https://euw1.api.riotgames.com/lol/league/v4/entries/by-summoner/'+ id_summoner +'?api_key='+api_key).json()
            
            presence_of_soloq_data = False
            for data_SOLOQ in data_rank:
                #if 'RANKED_SOLO_5x5' in data_SOLOQ['queueType']:
                if data_SOLOQ['queueType'] == "RANKED_SOLO_5x5":
                    print(summoner,data_SOLOQ['tier'],data_SOLOQ['rank'],data_SOLOQ['leaguePoints'], "LP")
                    dic_summoner_rank = {"SummonerName":summoner,"tier":data_SOLOQ['tier'],"rank":data_SOLOQ['rank'],"lp":data_SOLOQ['leaguePoints']}
                    list_summoner_rank.append(dic_summoner_rank)
                    presence_of_soloq_data = True
            if not presence_of_soloq_data:
                print(f"No data / No SOLO Q for this account : {summoner}")
                dic_summoner_rank = {"SummonerName":summoner,"tier":"no data","rank":"no data","lp":"no data"}
                list_summoner_rank.append(dic_summoner_rank)
        else:
            print(f"Failed to retrieve data for summoner {summoner}")
            
#summoner_list = ["SaintLoutr","Draeknof","Haukeas Grémory","Caio73","charlos92604","7689000","Alrsay","TheK1ngPotato","Blarckful"]
summoner_list = ["SaintLoutr","TheK1ngPotato","Blarckful"]

ranking_information(summoner_list)
print(list_summoner_rank)